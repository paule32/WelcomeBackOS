
Discarded input sections

 .reloc         0x00000000        0x0 dll stuff

Memory Configuration

Name             Origin             Length             Attributes
*default*        0x00000000         0xffffffff

Linker script and memory map

                0x00400000                        __image_base__ = 0x400000
                0x00000000                        __dll__ = 0x0
                0x00400000                        ___ImageBase = 0x400000
                0x00001000                        __section_alignment__ = 0x1000
                0x00000200                        __file_alignment__ = 0x200
                0x00000004                        __major_os_version__ = 0x4
                0x00000000                        __minor_os_version__ = 0x0
                0x00000001                        __major_image_version__ = 0x1
                0x00000000                        __minor_image_version__ = 0x0
                0x00000004                        __major_subsystem_version__ = 0x4
                0x00000000                        __minor_subsystem_version__ = 0x0
                0x00000003                        __subsystem__ = 0x3
                0x00200000                        __size_of_stack_reserve__ = 0x200000
                0x00001000                        __size_of_stack_commit__ = 0x1000
                0x00100000                        __size_of_heap_reserve__ = 0x100000
                0x00001000                        __size_of_heap_commit__ = 0x1000
                0x00000000                        __loader_flags__ = 0x0
                0x00000140                        __dll_characteristics__ = 0x140
                0x00010000                        . = 0x10000

.text           0x00010000     0x5600
                0x00010000        0x4 LONG 0x10004 _kmain
                0x00010004                        __code_start = .
 *(.text)
 .text          0x00010004       0xb0 ../obj/ckernel.o
                0x00010004                kmain
 *fill*         0x000100b4        0xc 
 .text          0x000100c0      0x200 ../obj/paging.o
                0x000100c0                page_allocator_add_page
                0x000100e5                page_init
                0x000100e6                page_alloc
                0x00010136                page_free
                0x00010160                mmio_map
                0x0001024b                paging_init
 .text          0x000102c0       0x3b ../obj/flush.o
                0x000102c0                _gdt_flush
                0x000102dd                _tss_flush
                0x000102f3                idt_flush
 *fill*         0x000102fb        0x1 
 .text          0x000102fc      0x540 ../obj/idt.o
                0x000102fc                idt_set_gate
                0x0001033a                idt_init
 *fill*         0x0001083c        0x4 
 .text          0x00010840      0x12e ../obj/isr.o
                0x00010840                isr0
                0x0001084a                isr1
                0x00010854                isr2
                0x0001085e                isr3
                0x00010868                isr4
                0x00010872                isr5
                0x0001087c                isr6
                0x00010886                isr7
                0x00010890                isr8
                0x00010898                isr9
                0x000108a2                isr10
                0x000108aa                isr11
                0x000108b2                isr12
                0x000108ba                isr13
                0x000108c2                isr14
                0x000108c7                isr15
                0x000108ce                isr16
                0x000108d5                isr17
                0x000108dc                isr18
                0x000108e3                isr19
                0x000108ea                isr20
                0x000108f1                isr21
                0x000108f8                isr22
                0x000108ff                isr23
                0x00010906                isr24
                0x0001090d                isr25
                0x00010914                isr26
                0x0001091b                isr27
                0x00010922                isr28
                0x00010929                isr29
                0x00010930                isr30
                0x00010935                isr31
                0x0001093c                isr128
 *fill*         0x0001096e        0x2 
 .text          0x00010970       0xd8 ../obj/irqc.o
                0x00010970                irq_remap
                0x000109af                irq_handler
                0x000109f4                irq_init
 *fill*         0x00010a48        0x8 
 .text          0x00010a50       0x36 ../obj/irq.o
                0x00010a50                irq0
                0x00010a57                irq1
 *fill*         0x00010a86        0x2 
 .text          0x00010a88       0x54 ../obj/isrc.o
                0x00010a88                isr_init
                0x00010a89                isr_handler
 *fill*         0x00010adc        0x4 
 .text          0x00010ae0      0x180 ../obj/gdt.o
                0x00010ae0                tss_set_kernel_stack
                0x00010aea                gdt_init
 .text          0x00010c60       0x54 ../obj/syscall.o
                0x00010c93                syscall_init
                0x00010c94                syscall_dispatch
 .text          0x00010cb4       0x30 ../obj/timer.o
                0x00010cb4                timer_tick
 *fill*         0x00010ce4       0x1c 
 .text          0x00010d00       0xa0 ../obj/math.o
                0x00010d00                k_power
                0x00010d2e                k_abs
                0x00010d3a                k_sqrt
 .text          0x00010da0       0x1d ../obj/usermode.o
                0x00010da0                enter_usermode
 *fill*         0x00010dbd        0x3 
 .text          0x00010dc0       0x18 ../obj/usermodec.o
                0x00010dc0                user_mode_main
 *fill*         0x00010dd8        0x8 
 .text          0x00010de0      0x1f0 ../obj/task.o
                0x00010e11                tasking_is_enabled
                0x00010e17                tasking_init
                0x00010e64                task_create
                0x00010ef4                schedule
 *fill*         0x00010fd0       0x30 
 .text          0x00011000      0x640 ../obj/iso9660.o
                0x00011000                iso_mount
                0x000110cb                iso_init
                0x0001110d                iso_find_file
                0x00011463                file_open
                0x000114b5                file_read
                0x000115c3                file_getch
                0x000115f7                file_seek
                0x0001161d                file_close
 .text          0x00011640      0x488 ../obj/video.o
                0x00011640                settextcolor
                0x00011658                move_cursor_right
                0x0001167a                move_cursor_left
                0x000116ad                update_cursor
                0x000116ee                k_clear_screen
                0x00011731                move_cursor_home
                0x0001173e                move_cursor_end
                0x0001174b                set_cursor
                0x00011763                scroll
                0x000117da                putch
                0x000118fe                puts
                0x00011927                kprintf
                0x0001196a                printformat
                0x00011a91                save_cursor
                0x00011aac                restore_cursor
 *fill*         0x00011ac8       0x18 
 .text          0x00011ae0      0xae0 ../obj/vga.o
                0x00011ae0                gfx_init
                0x00011b90                gfx_clear(unsigned short)
                0x00011c03                gfx_rgbColor(unsigned char, unsigned char, unsigned char)
                0x00011c2c                gfx_hLine(int, int, int, unsigned short)
                0x00011cad                gfx_getPixel(int, int)
                0x00011ce9                gfx_putPixel(int, int, unsigned short)
                0x00011d25                gfx_putPixel(int, int, int, unsigned short)
                0x00011e18                gfx_drawLine(int, int, int, int, int, unsigned short)
                0x00011f64                gfx_drawCircle(int, int, int, unsigned short)
                0x000120a8                gfx_drawCircle(int, int, int, int, unsigned short)
                0x00012101                gfx_drawCircleFill(int, int, int, unsigned short)
                0x000121f2                gfx_rectFill(int, int, int, int, unsigned short)
                0x000122ae                gfx_rectFrame(int, int, int, int, int, unsigned short)
                0x0001234c                gfx_drawChar(int, int, unsigned char, unsigned short, unsigned short)
                0x000123d8                gfx_putChar(char)
                0x00012454                gfx_print(char const*)
                0x0001247d                gfx_printf(char*, ...)
 .text          0x000125c0      0x380 ../obj/util.o
                0x000125c0                fetchESP
                0x000125c3                fetchEBP
                0x000125c6                fetchSS
                0x000125c9                fetchCS
                0x000125cc                fetchDS
                0x000125cf                panic_assert
                0x00012642                k_memshow
                0x00012677                reboot
                0x000126a6                kitoa
                0x0001278a                ki2hex
                0x000127f1                float2string
 .text          0x00012940      0x500 ../obj/atapi.o
                0x00012a96                atapi_read_sector
                0x00012be9                atapi_read_sectors
                0x00012c33                check_atapi
                0x00012d33                cd_test_iso9660
 .text          0x00012e40      0x720 ../obj/ahci.o
                0x00012e40                ahci_find_controller
                0x00012f41                ahci_port_init
                0x00012ff3                sata_read_sectors
                0x00013242                ahci_probe_ports
                0x00013334                sata_test_iso9660
                0x00013425                ahci_init
                0x000134a4                check_ahci
 .text          0x00013560      0x560 ../obj/ps2_mouse.o
                0x0001358e                cursor_overlay_move(int, int)
                0x000138b8                cursor_update(int, int)
                0x000138d5                mouse_install
                0x000139ca                mouse_poll
 .text          0x00013ac0       0x38 ../obj/shell_loader.o
                0x00013ac0                ps2_polling_enable()
                0x00013acf                enter_shell
 .text          0x00013af8      0x6f8 ../obj/shell.o
                0x00013af8                shell_main
 .text          0x000141f0      0x200 ../obj/pe.o
                0x000141f0                pe_load_image
 *fill*         0x000143f0       0x10 
 .text          0x00014400      0xda0 ../obj/wm.o
                0x00014558                wm_push_event
                0x000145a1                wm_create_window
                0x00014757                wm_destroy_window
                0x000147aa                wm_tick
                0x00014f8f                wm_init
                0x00015042                wm_set_cursor
                0x00015096                wm_on_mouse
                0x00015148                wm_on_key
 .text          0x000151a0      0x310 ../obj/kheap.o
                0x000151c6                detect_memory
                0x00015218                kmemcpy
                0x00015245                kmemset
                0x0001526e                kmemsetw
                0x00015291                kstrlen
                0x000152b0                kstrncmp
                0x000152fe                kstrcmp
                0x00015330                kstrcat
                0x0001536d                kheap_init
                0x0001538c                kmalloc
                0x000153da                kfree
                0x00015429                krealloc

.rodata         0x000154c0      0xa00
                0x000154c0                        __rodata_start = .
 *(.rodata)
 *(.rdata)
 .rdata         0x000154c0       0x40 ../obj/ckernel.o
 .rdata         0x00015500        0x4 ../obj/math.o
 .rdata         0x00015504       0x1c ../obj/usermodec.o
 .rdata         0x00015520       0x2c ../obj/iso9660.o
 .rdata         0x0001554c       0x84 ../obj/video.o
 .rdata         0x000155d0       0xb0 ../obj/vga.o
 .rdata         0x00015680       0x44 ../obj/util.o
 .rdata         0x000156c4      0x368 ../obj/atapi.o
 .rdata         0x00015a2c      0x30c ../obj/ahci.o
 *fill*         0x00015d38        0x8 
 .rdata         0x00015d40       0x40 ../obj/ps2_mouse.o
 .rdata         0x00015d80       0x10 ../obj/shell.o
 .rdata         0x00015d90       0x2c ../obj/pe.o
 .rdata         0x00015dbc       0x20 ../obj/wm.o

.rdata          0x00016000      0x400
 .rdata$zzz     0x00016000       0x2c ../obj/ckernel.o
 .rdata$zzz     0x0001602c       0x2c ../obj/paging.o
 .rdata$zzz     0x00016058       0x2c ../obj/idt.o
 .rdata$zzz     0x00016084       0x2c ../obj/irqc.o
 .rdata$zzz     0x000160b0       0x2c ../obj/isrc.o
 .rdata$zzz     0x000160dc       0x2c ../obj/gdt.o
 .rdata$zzz     0x00016108       0x2c ../obj/syscall.o
 .rdata$zzz     0x00016134       0x2c ../obj/timer.o
 .rdata$zzz     0x00016160       0x2c ../obj/math.o
 .rdata$zzz     0x0001618c       0x2c ../obj/usermodec.o
 .rdata$zzz     0x000161b8       0x2c ../obj/task.o
 .rdata$zzz     0x000161e4       0x2c ../obj/iso9660.o
 .rdata$zzz     0x00016210       0x2c ../obj/video.o
 .rdata$zzz     0x0001623c       0x2c ../obj/vga.o
 .rdata$zzz     0x00016268       0x2c ../obj/util.o
 .rdata$zzz     0x00016294       0x2c ../obj/atapi.o
 .rdata$zzz     0x000162c0       0x2c ../obj/ahci.o
 .rdata$zzz     0x000162ec       0x2c ../obj/ps2_mouse.o
 .rdata$zzz     0x00016318       0x2c ../obj/shell_loader.o
 .rdata$zzz     0x00016344       0x2c ../obj/shell.o
 .rdata$zzz     0x00016370       0x2c ../obj/pe.o
 .rdata$zzz     0x0001639c       0x2c ../obj/wm.o
 .rdata$zzz     0x000163c8       0x2c ../obj/kheap.o

.eh_frame       0x00017000     0x1400
 .eh_frame      0x00017000       0x2c ../obj/ckernel.o
 .eh_frame      0x0001702c       0xc4 ../obj/paging.o
 .eh_frame      0x000170f0       0x58 ../obj/idt.o
 .eh_frame      0x00017148       0x60 ../obj/irqc.o
 .eh_frame      0x000171a8       0x44 ../obj/isrc.o
 .eh_frame      0x000171ec       0x48 ../obj/gdt.o
 .eh_frame      0x00017234       0x54 ../obj/syscall.o
 .eh_frame      0x00017288       0x2c ../obj/timer.o
 .eh_frame      0x000172b4       0x5c ../obj/math.o
 .eh_frame      0x00017310       0x30 ../obj/usermodec.o
 .eh_frame      0x00017340       0xb8 ../obj/task.o
 .eh_frame      0x000173f8      0x140 ../obj/iso9660.o
 .eh_frame      0x00017538      0x1b4 ../obj/video.o
 .eh_frame      0x000176ec      0x338 ../obj/vga.o
 .eh_frame      0x00017a24      0x19c ../obj/util.o
 .eh_frame      0x00017bc0      0x154 ../obj/atapi.o
 .eh_frame      0x00017d14      0x150 ../obj/ahci.o
 .eh_frame      0x00017e64       0xd0 ../obj/ps2_mouse.o
 .eh_frame      0x00017f34       0x48 ../obj/shell_loader.o
 .eh_frame      0x00017f7c       0x58 ../obj/shell.o
 .eh_frame      0x00017fd4       0x58 ../obj/pe.o
 .eh_frame      0x0001802c      0x1d8 ../obj/wm.o
 .eh_frame      0x00018204      0x18c ../obj/kheap.o

.data           0x000183a0      0xc00
                0x000183a0                        __data_start = .
 *(.data)
 .data          0x000183a0        0x4 ../obj/ckernel.o
                0x000183a0                kernel_stack_top
 .data          0x000183a4        0x4 ../obj/paging.o
 .data          0x000183a8        0x0 ../obj/idt.o
 .data          0x000183a8        0x0 ../obj/irqc.o
 .data          0x000183a8        0x0 ../obj/isrc.o
 .data          0x000183a8        0x0 ../obj/gdt.o
 .data          0x000183a8        0x4 ../obj/syscall.o
 .data          0x000183ac        0x0 ../obj/timer.o
 .data          0x000183ac        0x0 ../obj/math.o
 .data          0x000183ac        0x4 ../obj/usermodec.o
                0x000183ac                user_stack_top
 .data          0x000183b0        0x0 ../obj/task.o
 .data          0x000183b0        0x4 ../obj/iso9660.o
 .data          0x000183b4        0x8 ../obj/video.o
                0x000183b4                tui_vidmem
                0x000183b8                attrib
 *fill*         0x000183bc        0x4 
 .data          0x000183c0      0x420 ../obj/vga.o
                0x000183e0                font8x8
 .data          0x000187e0        0x4 ../obj/util.o
                0x000187e0                INT_MAX
 .data          0x000187e4        0x8 ../obj/atapi.o
 .data          0x000187ec        0x0 ../obj/ahci.o
 *fill*         0x000187ec       0x14 
 .data          0x00018800      0x620 ../obj/ps2_mouse.o
 .data          0x00018e20        0x0 ../obj/shell_loader.o
 .data          0x00018e20        0x0 ../obj/shell.o
 .data          0x00018e20        0x0 ../obj/pe.o
 .data          0x00018e20       0x14 ../obj/wm.o
 .data          0x00018e34        0x0 ../obj/kheap.o

.bss            0x00019000   0x6ed4b0
                0x00019000                        __bss_start = .
 *(.bss)
 .bss           0x00019000        0x0 ../obj/ckernel.o
 .bss           0x00019000     0x2000 ../obj/paging.o
 .bss           0x0001b000      0x820 ../obj/idt.o
 .bss           0x0001b820        0x0 ../obj/irqc.o
 .bss           0x0001b820        0x0 ../obj/isrc.o
 .bss           0x0001b820       0xc0 ../obj/gdt.o
                0x0001b820                tss_entry
                0x0001b87c                gp
                0x0001b8a0                gdt
 .bss           0x0001b8e0        0x0 ../obj/syscall.o
 .bss           0x0001b8e0        0x4 ../obj/timer.o
 .bss           0x0001b8e4        0x0 ../obj/math.o
 *fill*         0x0001b8e4       0x1c 
 .bss           0x0001b900     0x1000 ../obj/usermodec.o
                0x0001b900                user_stack
 .bss           0x0001c900       0x10 ../obj/task.o
 .bss           0x0001c910       0x10 ../obj/iso9660.o
 .bss           0x0001c920        0x4 ../obj/video.o
                0x0001c920                saved_csr_y
                0x0001c921                saved_csr_x
                0x0001c922                csr_y
                0x0001c923                csr_x
 .bss           0x0001c924        0xc ../obj/vga.o
                0x0001c924                lfb_bpp
                0x0001c926                lfb_yres
                0x0001c928                lfb_xres
                0x0001c92a                lfb_pitch
                0x0001c92c                lfb_base
 .bss           0x0001c930        0x0 ../obj/util.o
 .bss           0x0001c930        0xc ../obj/atapi.o
 *fill*         0x0001c93c      0x2c4 
 .bss           0x0001cc00      0x800 ../obj/ahci.o
 .bss           0x0001d400       0x18 ../obj/ps2_mouse.o
                0x0001d400                seen_aux
                0x0001d404                seen_out
                0x0001d408                mouse_y
                0x0001d40a                mouse_x
                0x0001d40c                mouse_byte
                0x0001d40f                mouse_cycle
 .bss           0x0001d418        0x0 ../obj/shell_loader.o
 .bss           0x0001d418        0x0 ../obj/shell.o
 .bss           0x0001d418        0x0 ../obj/pe.o
 *fill*         0x0001d418        0x8 
 .bss           0x0001d420   0x6e9080 ../obj/wm.o
 .bss           0x007064a0       0x10 ../obj/kheap.o
                0x007064a0                max_mem
                0x007064a4                mem_map_length
                0x007064a8                mem_map
 *(COMMON)
                0x007064b0                        __bss_end = .
                0x007064b0                        ___end = .

/DISCARD/
 *(.reloc)
LOAD ../obj/ckernel.o
LOAD ../obj/paging.o
LOAD ../obj/flush.o
LOAD ../obj/idt.o
LOAD ../obj/isr.o
LOAD ../obj/irqc.o
LOAD ../obj/irq.o
LOAD ../obj/isrc.o
LOAD ../obj/gdt.o
LOAD ../obj/syscall.o
LOAD ../obj/timer.o
LOAD ../obj/math.o
LOAD ../obj/usermode.o
LOAD ../obj/usermodec.o
LOAD ../obj/task.o
LOAD ../obj/iso9660.o
LOAD ../obj/video.o
LOAD ../obj/vga.o
LOAD ../obj/util.o
LOAD ../obj/atapi.o
LOAD ../obj/ahci.o
LOAD ../obj/ps2_mouse.o
LOAD ../obj/shell_loader.o
LOAD ../obj/shell.o
LOAD ../obj/pe.o
LOAD ../obj/wm.o
LOAD ../obj/kheap.o
OUTPUT(../obj/kernel.o pei-i386)
LOAD dll stuff
