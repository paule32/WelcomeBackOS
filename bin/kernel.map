
Discarded input sections

 .reloc         0x00000000        0x0 dll stuff

Memory Configuration

Name             Origin             Length             Attributes
*default*        0x00000000         0xffffffff

Linker script and memory map

                0x00400000                        __image_base__ = 0x400000
                0x00000000                        __dll__ = 0x0
                0x00400000                        ___ImageBase = 0x400000
                0x00001000                        __section_alignment__ = 0x1000
                0x00000200                        __file_alignment__ = 0x200
                0x00000004                        __major_os_version__ = 0x4
                0x00000000                        __minor_os_version__ = 0x0
                0x00000001                        __major_image_version__ = 0x1
                0x00000000                        __minor_image_version__ = 0x0
                0x00000004                        __major_subsystem_version__ = 0x4
                0x00000000                        __minor_subsystem_version__ = 0x0
                0x00000003                        __subsystem__ = 0x3
                0x00200000                        __size_of_stack_reserve__ = 0x200000
                0x00001000                        __size_of_stack_commit__ = 0x1000
                0x00100000                        __size_of_heap_reserve__ = 0x100000
                0x00001000                        __size_of_heap_commit__ = 0x1000
                0x00000000                        __loader_flags__ = 0x0
                0x00000140                        __dll_characteristics__ = 0x140
                0x00010000                        . = 0x10000

.text           0x00010000     0x5800
                0x00010000        0x4 LONG 0x10004 _kmain
                0x00010004                        __code_start = .
 *(.text)
 .text          0x00010004       0xb0 ../obj/ckernel.o
                0x00010004                kmain
 *fill*         0x000100b4        0xc 
 .text          0x000100c0      0x380 ../obj/paging.o
                0x000100c0                map_range_identity
                0x0001018a                page_allocator_add_page
                0x000101af                page_init
                0x000101b0                page_alloc
                0x000101ff                page_free
                0x0001022a                mmio_map
                0x0001034e                paging_init
 .text          0x00010440       0x3b ../obj/flush.o
                0x00010440                _gdt_flush
                0x0001045d                _tss_flush
                0x00010473                idt_flush
 *fill*         0x0001047b        0x1 
 .text          0x0001047c      0x540 ../obj/idt.o
                0x0001047c                idt_set_gate
                0x000104ba                idt_init
 *fill*         0x000109bc        0x4 
 .text          0x000109c0      0x12e ../obj/isr.o
                0x000109c0                isr0
                0x000109ca                isr1
                0x000109d4                isr2
                0x000109de                isr3
                0x000109e8                isr4
                0x000109f2                isr5
                0x000109fc                isr6
                0x00010a06                isr7
                0x00010a10                isr8
                0x00010a18                isr9
                0x00010a22                isr10
                0x00010a2a                isr11
                0x00010a32                isr12
                0x00010a3a                isr13
                0x00010a42                isr14
                0x00010a47                isr15
                0x00010a4e                isr16
                0x00010a55                isr17
                0x00010a5c                isr18
                0x00010a63                isr19
                0x00010a6a                isr20
                0x00010a71                isr21
                0x00010a78                isr22
                0x00010a7f                isr23
                0x00010a86                isr24
                0x00010a8d                isr25
                0x00010a94                isr26
                0x00010a9b                isr27
                0x00010aa2                isr28
                0x00010aa9                isr29
                0x00010ab0                isr30
                0x00010ab5                isr31
                0x00010abc                isr128
 *fill*         0x00010aee        0x2 
 .text          0x00010af0       0xd8 ../obj/irqc.o
                0x00010af0                irq_remap
                0x00010b2f                irq_handler
                0x00010b74                irq_init
 *fill*         0x00010bc8        0x8 
 .text          0x00010bd0       0x36 ../obj/irq.o
                0x00010bd0                irq0
                0x00010bd7                irq1
 *fill*         0x00010c06        0x2 
 .text          0x00010c08       0x54 ../obj/isrc.o
                0x00010c08                isr_init
                0x00010c09                isr_handler
 *fill*         0x00010c5c        0x4 
 .text          0x00010c60      0x180 ../obj/gdt.o
                0x00010c60                tss_set_kernel_stack
                0x00010c6a                gdt_init
 .text          0x00010de0       0x54 ../obj/syscall.o
                0x00010e13                syscall_init
                0x00010e14                syscall_dispatch
 .text          0x00010e34       0x30 ../obj/timer.o
                0x00010e34                timer_tick
 *fill*         0x00010e64       0x1c 
 .text          0x00010e80       0xa0 ../obj/math.o
                0x00010e80                k_power
                0x00010eae                k_abs
                0x00010eba                k_sqrt
 .text          0x00010f20       0x1d ../obj/usermode.o
                0x00010f20                enter_usermode
 *fill*         0x00010f3d        0x3 
 .text          0x00010f40       0x18 ../obj/usermodec.o
                0x00010f40                user_mode_main
 *fill*         0x00010f58        0x8 
 .text          0x00010f60      0x1f0 ../obj/task.o
                0x00010f91                tasking_is_enabled
                0x00010f97                tasking_init
                0x00010fe4                task_create
                0x00011074                schedule
 *fill*         0x00011150       0x30 
 .text          0x00011180      0x640 ../obj/iso9660.o
                0x00011180                iso_mount
                0x0001124b                iso_init
                0x0001128d                iso_find_file
                0x000115e3                file_open
                0x00011635                file_read
                0x00011743                file_getch
                0x00011777                file_seek
                0x0001179d                file_close
 .text          0x000117c0      0x488 ../obj/video.o
                0x000117c0                settextcolor
                0x000117d8                move_cursor_right
                0x000117fa                move_cursor_left
                0x0001182d                update_cursor
                0x0001186e                k_clear_screen
                0x000118b1                move_cursor_home
                0x000118be                move_cursor_end
                0x000118cb                set_cursor
                0x000118e3                scroll
                0x0001195a                putch
                0x00011a7e                puts
                0x00011aa7                kprintf
                0x00011aea                printformat
                0x00011c11                save_cursor
                0x00011c2c                restore_cursor
 *fill*         0x00011c48       0x18 
 .text          0x00011c60      0xae0 ../obj/vga.o
                0x00011c60                gfx_init
                0x00011d10                gfx_clear(unsigned short)
                0x00011d83                gfx_rgbColor(unsigned char, unsigned char, unsigned char)
                0x00011dac                gfx_hLine(int, int, int, unsigned short)
                0x00011e2d                gfx_getPixel(int, int)
                0x00011e69                gfx_putPixel(int, int, unsigned short)
                0x00011ea5                gfx_putPixel(int, int, int, unsigned short)
                0x00011f98                gfx_drawLine(int, int, int, int, int, unsigned short)
                0x000120e4                gfx_drawCircle(int, int, int, unsigned short)
                0x00012228                gfx_drawCircle(int, int, int, int, unsigned short)
                0x00012281                gfx_drawCircleFill(int, int, int, unsigned short)
                0x00012372                gfx_rectFill(int, int, int, int, unsigned short)
                0x0001242e                gfx_rectFrame(int, int, int, int, int, unsigned short)
                0x000124cc                gfx_drawChar(int, int, unsigned char, unsigned short, unsigned short)
                0x00012558                gfx_putChar(char)
                0x000125d4                gfx_print(char const*)
                0x000125fd                gfx_printf(char*, ...)
 .text          0x00012740      0x380 ../obj/util.o
                0x00012740                fetchESP
                0x00012743                fetchEBP
                0x00012746                fetchSS
                0x00012749                fetchCS
                0x0001274c                fetchDS
                0x0001274f                panic_assert
                0x000127c2                k_memshow
                0x000127f7                reboot
                0x00012826                kitoa
                0x0001290a                ki2hex
                0x00012971                float2string
 .text          0x00012ac0      0x500 ../obj/atapi.o
                0x00012c16                atapi_read_sector
                0x00012d69                atapi_read_sectors
                0x00012db3                check_atapi
                0x00012eb3                cd_test_iso9660
 .text          0x00012fc0      0x720 ../obj/ahci.o
                0x00012fc0                ahci_find_controller
                0x000130c1                ahci_port_init
                0x00013173                sata_read_sectors
                0x000133c2                ahci_probe_ports
                0x000134b4                sata_test_iso9660
                0x000135a5                ahci_init
                0x00013624                check_ahci
 .text          0x000136e0      0x5a0 ../obj/ps2_mouse.o
                0x0001370e                cursor_overlay_move(int, int)
                0x00013a38                cursor_update(int, int)
                0x00013a55                mouse_install
                0x00013b93                mouse_poll
 .text          0x00013c80       0x4c ../obj/shell_loader.o
                0x00013c80                ps2_polling_enable()
                0x00013c8f                enter_shell
 .text          0x00013ccc      0x6f8 ../obj/shell.o
                0x00013ccc                shell_main
 *fill*         0x000143c4       0x1c 
 .text          0x000143e0       0xc0 ../obj/int86.o
                0x000143e0                int86
 .text          0x000144a0      0x200 ../obj/pe.o
                0x000144a0                pe_load_image
 *fill*         0x000146a0       0x20 
 .text          0x000146c0      0xe00 ../obj/wm.o
                0x00014818                wm_push_event
                0x00014861                wm_create_window
                0x00014a17                wm_destroy_window
                0x00014a6a                wm_tick
                0x00015281                wm_init
                0x00015345                wm_set_cursor
                0x00015396                wm_on_mouse
                0x00015448                wm_on_key
 .text          0x000154c0      0x310 ../obj/kheap.o
                0x000154e6                detect_memory
                0x00015538                kmemcpy
                0x00015565                kmemset
                0x0001558e                kmemsetw
                0x000155b1                kstrlen
                0x000155d0                kstrncmp
                0x0001561e                kstrcmp
                0x00015650                kstrcat
                0x0001568d                kheap_init
                0x000156ac                kmalloc
                0x000156fa                kfree
                0x00015749                krealloc

.rodata         0x000157e0      0xc00
                0x000157e0                        __rodata_start = .
 *(.rodata)
 .rodata        0x000157e0      0x12e ../obj/int86_blob.o
                0x000157e0                _int86_blob_start
                0x0001590e                _int86_blob_end
 *(.rdata)
 *fill*         0x0001590e        0x2 
 .rdata         0x00015910       0x40 ../obj/ckernel.o
 .rdata         0x00015950        0x4 ../obj/math.o
 .rdata         0x00015954       0x1c ../obj/usermodec.o
 .rdata         0x00015970       0x2c ../obj/iso9660.o
 .rdata         0x0001599c       0x84 ../obj/video.o
 .rdata         0x00015a20       0xb0 ../obj/vga.o
 .rdata         0x00015ad0       0x44 ../obj/util.o
 .rdata         0x00015b14      0x368 ../obj/atapi.o
 .rdata         0x00015e7c      0x30c ../obj/ahci.o
 *fill*         0x00016188       0x18 
 .rdata         0x000161a0       0xe0 ../obj/ps2_mouse.o
 .rdata         0x00016280       0x10 ../obj/shell_loader.o
 .rdata         0x00016290       0x10 ../obj/shell.o
 .rdata         0x000162a0       0x2c ../obj/pe.o
 .rdata         0x000162cc       0x20 ../obj/wm.o

.rdata          0x00017000      0x600
 .rdata$zzz     0x00017000       0x2c ../obj/ckernel.o
 .rdata$zzz     0x0001702c       0x2c ../obj/paging.o
 .rdata$zzz     0x00017058       0x2c ../obj/idt.o
 .rdata$zzz     0x00017084       0x2c ../obj/irqc.o
 .rdata$zzz     0x000170b0       0x2c ../obj/isrc.o
 .rdata$zzz     0x000170dc       0x2c ../obj/gdt.o
 .rdata$zzz     0x00017108       0x2c ../obj/syscall.o
 .rdata$zzz     0x00017134       0x2c ../obj/timer.o
 .rdata$zzz     0x00017160       0x2c ../obj/math.o
 .rdata$zzz     0x0001718c       0x2c ../obj/usermodec.o
 .rdata$zzz     0x000171b8       0x2c ../obj/task.o
 .rdata$zzz     0x000171e4       0x2c ../obj/iso9660.o
 .rdata$zzz     0x00017210       0x2c ../obj/video.o
 .rdata$zzz     0x0001723c       0x2c ../obj/vga.o
 .rdata$zzz     0x00017268       0x2c ../obj/util.o
 .rdata$zzz     0x00017294       0x2c ../obj/atapi.o
 .rdata$zzz     0x000172c0       0x2c ../obj/ahci.o
 .rdata$zzz     0x000172ec       0x2c ../obj/ps2_mouse.o
 .rdata$zzz     0x00017318       0x2c ../obj/shell_loader.o
 .rdata$zzz     0x00017344       0x2c ../obj/shell.o
 .rdata$zzz     0x00017370       0x2c ../obj/int86.o
 .rdata$zzz     0x0001739c       0x2c ../obj/pe.o
 .rdata$zzz     0x000173c8       0x2c ../obj/wm.o
 .rdata$zzz     0x000173f4       0x2c ../obj/kheap.o

.eh_frame       0x00018000     0x1600
 .eh_frame      0x00018000       0x2c ../obj/ckernel.o
 .eh_frame      0x0001802c      0x124 ../obj/paging.o
 .eh_frame      0x00018150       0x58 ../obj/idt.o
 .eh_frame      0x000181a8       0x60 ../obj/irqc.o
 .eh_frame      0x00018208       0x44 ../obj/isrc.o
 .eh_frame      0x0001824c       0x48 ../obj/gdt.o
 .eh_frame      0x00018294       0x54 ../obj/syscall.o
 .eh_frame      0x000182e8       0x2c ../obj/timer.o
 .eh_frame      0x00018314       0x5c ../obj/math.o
 .eh_frame      0x00018370       0x30 ../obj/usermodec.o
 .eh_frame      0x000183a0       0xb8 ../obj/task.o
 .eh_frame      0x00018458      0x140 ../obj/iso9660.o
 .eh_frame      0x00018598      0x1b4 ../obj/video.o
 .eh_frame      0x0001874c      0x338 ../obj/vga.o
 .eh_frame      0x00018a84      0x19c ../obj/util.o
 .eh_frame      0x00018c20      0x154 ../obj/atapi.o
 .eh_frame      0x00018d74      0x150 ../obj/ahci.o
 .eh_frame      0x00018ec4       0xd4 ../obj/ps2_mouse.o
 .eh_frame      0x00018f98       0x48 ../obj/shell_loader.o
 .eh_frame      0x00018fe0       0x58 ../obj/shell.o
 .eh_frame      0x00019038       0x44 ../obj/int86.o
 .eh_frame      0x0001907c       0x58 ../obj/pe.o
 .eh_frame      0x000190d4      0x1dc ../obj/wm.o
 .eh_frame      0x000192b0      0x18c ../obj/kheap.o

.data           0x00019440      0xc00
                0x00019440                        __data_start = .
 *(.data)
 .data          0x00019440        0x4 ../obj/ckernel.o
                0x00019440                kernel_stack_top
 .data          0x00019444        0x4 ../obj/paging.o
 .data          0x00019448        0x0 ../obj/idt.o
 .data          0x00019448        0x0 ../obj/irqc.o
 .data          0x00019448        0x0 ../obj/isrc.o
 .data          0x00019448        0x0 ../obj/gdt.o
 .data          0x00019448        0x4 ../obj/syscall.o
 .data          0x0001944c        0x0 ../obj/timer.o
 .data          0x0001944c        0x0 ../obj/math.o
 .data          0x0001944c        0x4 ../obj/usermodec.o
                0x0001944c                user_stack_top
 .data          0x00019450        0x0 ../obj/task.o
 .data          0x00019450        0x4 ../obj/iso9660.o
 .data          0x00019454        0x8 ../obj/video.o
                0x00019454                tui_vidmem
                0x00019458                attrib
 *fill*         0x0001945c        0x4 
 .data          0x00019460      0x420 ../obj/vga.o
                0x00019480                font8x8
 .data          0x00019880        0x4 ../obj/util.o
                0x00019880                INT_MAX
 .data          0x00019884        0x8 ../obj/atapi.o
 .data          0x0001988c        0x0 ../obj/ahci.o
 *fill*         0x0001988c       0x14 
 .data          0x000198a0      0x620 ../obj/ps2_mouse.o
 .data          0x00019ec0        0x0 ../obj/shell_loader.o
 .data          0x00019ec0        0x0 ../obj/shell.o
 .data          0x00019ec0        0x0 ../obj/int86.o
 .data          0x00019ec0        0x0 ../obj/pe.o
 .data          0x00019ec0       0x14 ../obj/wm.o
 .data          0x00019ed4        0x0 ../obj/kheap.o

.bss            0x0001a000   0x7ed4b0
                0x0001a000                        __bss_start = .
 *(.bss)
 .bss           0x0001a000        0x0 ../obj/ckernel.o
 .bss           0x0001a000   0x402000 ../obj/paging.o
 .bss           0x0041c000      0x820 ../obj/idt.o
 .bss           0x0041c820        0x0 ../obj/irqc.o
 .bss           0x0041c820        0x0 ../obj/isrc.o
 .bss           0x0041c820       0xc0 ../obj/gdt.o
                0x0041c820                tss_entry
                0x0041c87c                gp
                0x0041c8a0                gdt
 .bss           0x0041c8e0        0x0 ../obj/syscall.o
 .bss           0x0041c8e0        0x4 ../obj/timer.o
 .bss           0x0041c8e4        0x0 ../obj/math.o
 *fill*         0x0041c8e4       0x1c 
 .bss           0x0041c900     0x1000 ../obj/usermodec.o
                0x0041c900                user_stack
 .bss           0x0041d900       0x10 ../obj/task.o
 .bss           0x0041d910       0x10 ../obj/iso9660.o
 .bss           0x0041d920        0x4 ../obj/video.o
                0x0041d920                saved_csr_y
                0x0041d921                saved_csr_x
                0x0041d922                csr_y
                0x0041d923                csr_x
 .bss           0x0041d924        0xc ../obj/vga.o
                0x0041d924                lfb_bpp
                0x0041d926                lfb_yres
                0x0041d928                lfb_xres
                0x0041d92a                lfb_pitch
                0x0041d92c                lfb_base
 .bss           0x0041d930        0x0 ../obj/util.o
 .bss           0x0041d930        0xc ../obj/atapi.o
 *fill*         0x0041d93c      0x2c4 
 .bss           0x0041dc00      0x800 ../obj/ahci.o
 .bss           0x0041e400       0x18 ../obj/ps2_mouse.o
                0x0041e400                seen_aux
                0x0041e404                seen_out
                0x0041e408                mouse_y
                0x0041e40a                mouse_x
                0x0041e40c                mouse_byte
                0x0041e40f                mouse_cycle
 .bss           0x0041e418        0x0 ../obj/shell_loader.o
 .bss           0x0041e418        0x0 ../obj/shell.o
 .bss           0x0041e418        0x0 ../obj/int86.o
 .bss           0x0041e418        0x0 ../obj/pe.o
 *fill*         0x0041e418        0x8 
 .bss           0x0041e420   0x3e9080 ../obj/wm.o
 .bss           0x008074a0       0x10 ../obj/kheap.o
                0x008074a0                max_mem
                0x008074a4                mem_map_length
                0x008074a8                mem_map
 *(COMMON)
                0x008074b0                        __bss_end = .
                0x008074b0                        ___end = .

/DISCARD/
 *(.reloc)
LOAD ../obj/ckernel.o
LOAD ../obj/paging.o
LOAD ../obj/flush.o
LOAD ../obj/idt.o
LOAD ../obj/isr.o
LOAD ../obj/irqc.o
LOAD ../obj/irq.o
LOAD ../obj/isrc.o
LOAD ../obj/gdt.o
LOAD ../obj/syscall.o
LOAD ../obj/timer.o
LOAD ../obj/math.o
LOAD ../obj/usermode.o
LOAD ../obj/usermodec.o
LOAD ../obj/task.o
LOAD ../obj/iso9660.o
LOAD ../obj/video.o
LOAD ../obj/vga.o
LOAD ../obj/util.o
LOAD ../obj/atapi.o
LOAD ../obj/ahci.o
LOAD ../obj/ps2_mouse.o
LOAD ../obj/shell_loader.o
LOAD ../obj/shell.o
LOAD ../obj/int86_blob.o
LOAD ../obj/int86.o
LOAD ../obj/pe.o
LOAD ../obj/wm.o
LOAD ../obj/kheap.o
OUTPUT(../obj/kernel.o pei-i386)
LOAD dll stuff
