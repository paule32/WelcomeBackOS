
Discarded input sections

 .reloc         0x00000000        0x0 dll stuff

Memory Configuration

Name             Origin             Length             Attributes
*default*        0x00000000         0xffffffff

Linker script and memory map

                0x00400000                        __image_base__ = 0x400000
                0x00000000                        __dll__ = 0x0
                0x00400000                        ___ImageBase = 0x400000
                0x00001000                        __section_alignment__ = 0x1000
                0x00000200                        __file_alignment__ = 0x200
                0x00000004                        __major_os_version__ = 0x4
                0x00000000                        __minor_os_version__ = 0x0
                0x00000001                        __major_image_version__ = 0x1
                0x00000000                        __minor_image_version__ = 0x0
                0x00000004                        __major_subsystem_version__ = 0x4
                0x00000000                        __minor_subsystem_version__ = 0x0
                0x00000003                        __subsystem__ = 0x3
                0x00200000                        __size_of_stack_reserve__ = 0x200000
                0x00001000                        __size_of_stack_commit__ = 0x1000
                0x00100000                        __size_of_heap_reserve__ = 0x100000
                0x00001000                        __size_of_heap_commit__ = 0x1000
                0x00000000                        __loader_flags__ = 0x0
                0x00000140                        __dll_characteristics__ = 0x140
                0x00010000                        . = 0x10000

.text           0x00010000     0x4000
                0x00010000        0x4 LONG 0x10004 _kmain
                0x00010004                        __code_start = .
 *(.text)
 .text          0x00010004      0x12c ../obj/ckernel.o
                0x00010004                kmain
                0x000100ad                test_task
 *fill*         0x00010130       0x10 
 .text          0x00010140      0x200 ../obj/paging.o
                0x00010140                page_allocator_add_page
                0x00010165                page_init
                0x00010166                page_alloc
                0x000101b6                page_free
                0x000101e0                mmio_map
                0x000102cb                paging_init
 .text          0x00010340       0x3b ../obj/flush.o
                0x00010340                _gdt_flush
                0x0001035d                _tss_flush
                0x00010373                idt_flush
 *fill*         0x0001037b        0x1 
 .text          0x0001037c      0x540 ../obj/idt.o
                0x0001037c                idt_set_gate
                0x000103ba                idt_init
 *fill*         0x000108bc        0x4 
 .text          0x000108c0      0x12e ../obj/isr.o
                0x000108c0                isr0
                0x000108ca                isr1
                0x000108d4                isr2
                0x000108de                isr3
                0x000108e8                isr4
                0x000108f2                isr5
                0x000108fc                isr6
                0x00010906                isr7
                0x00010910                isr8
                0x00010918                isr9
                0x00010922                isr10
                0x0001092a                isr11
                0x00010932                isr12
                0x0001093a                isr13
                0x00010942                isr14
                0x00010947                isr15
                0x0001094e                isr16
                0x00010955                isr17
                0x0001095c                isr18
                0x00010963                isr19
                0x0001096a                isr20
                0x00010971                isr21
                0x00010978                isr22
                0x0001097f                isr23
                0x00010986                isr24
                0x0001098d                isr25
                0x00010994                isr26
                0x0001099b                isr27
                0x000109a2                isr28
                0x000109a9                isr29
                0x000109b0                isr30
                0x000109b5                isr31
                0x000109bc                isr128
 *fill*         0x000109ee        0x2 
 .text          0x000109f0       0xd8 ../obj/irqc.o
                0x000109f0                irq_remap
                0x00010a2f                irq_handler
                0x00010a74                irq_init
 *fill*         0x00010ac8        0x8 
 .text          0x00010ad0       0x36 ../obj/irq.o
                0x00010ad0                irq0
                0x00010ad7                irq1
 *fill*         0x00010b06        0x2 
 .text          0x00010b08       0x54 ../obj/isrc.o
                0x00010b08                isr_init
                0x00010b09                isr_handler
 *fill*         0x00010b5c        0x4 
 .text          0x00010b60      0x180 ../obj/gdt.o
                0x00010b60                tss_set_kernel_stack
                0x00010b6a                gdt_init
 .text          0x00010ce0       0x54 ../obj/syscall.o
                0x00010d13                syscall_init
                0x00010d14                syscall_dispatch
 .text          0x00010d34       0x30 ../obj/timer.o
                0x00010d34                timer_tick
 *fill*         0x00010d64       0x1c 
 .text          0x00010d80       0xa0 ../obj/math.o
                0x00010d80                k_power
                0x00010dae                k_abs
                0x00010dba                k_sqrt
 .text          0x00010e20       0x1d ../obj/usermode.o
                0x00010e20                enter_usermode
 *fill*         0x00010e3d        0x3 
 .text          0x00010e40       0x18 ../obj/usermodec.o
                0x00010e40                user_mode_main
 *fill*         0x00010e58        0x8 
 .text          0x00010e60      0x1f0 ../obj/task.o
                0x00010e91                tasking_is_enabled
                0x00010e97                tasking_init
                0x00010ee4                task_create
                0x00010f74                schedule
 *fill*         0x00011050       0x30 
 .text          0x00011080      0x640 ../obj/iso9660.o
                0x00011080                iso_mount
                0x0001114b                iso_init
                0x0001118d                iso_find_file
                0x000114e3                file_open
                0x00011535                file_read
                0x00011643                file_getch
                0x00011677                file_seek
                0x0001169d                file_close
 .text          0x000116c0      0x488 ../obj/video.o
                0x000116c0                settextcolor
                0x000116d8                move_cursor_right
                0x000116fa                move_cursor_left
                0x0001172d                update_cursor
                0x0001176e                k_clear_screen
                0x000117b1                move_cursor_home
                0x000117be                move_cursor_end
                0x000117cb                set_cursor
                0x000117e3                scroll
                0x0001185a                putch
                0x0001197e                puts
                0x000119a7                kprintf
                0x000119ea                printformat
                0x00011b11                save_cursor
                0x00011b2c                restore_cursor
 *fill*         0x00011b48       0x18 
 .text          0x00011b60      0x880 ../obj/vga.o
                0x00011b60                gfx_init()
                0x00011c10                gfx_clear(unsigned short)
                0x00011c83                rgb565(unsigned char, unsigned char, unsigned char)
                0x00011cac                gfx_hLine(int, int, int, unsigned short)
                0x00011d2d                gfx_getPixel(int, int)
                0x00011d69                gfx_putPixel(int, int, unsigned short)
                0x00011da5                gfx_putPixel(int, int, int, unsigned short)
                0x00011e98                gfx_drawLine(int, int, int, int, int, unsigned short)
                0x00011fe4                gfx_drawCircle(int, int, int, unsigned short)
                0x00012128                gfx_drawCircle(int, int, int, int, unsigned short)
                0x00012181                gfx_drawCircleFill(int, int, int, unsigned short)
                0x00012272                gfx_rectFill(int, int, int, int, unsigned short)
                0x0001232e                gfx_rectFrame(int, int, int, int, int, unsigned short)
 *fill*         0x000123e0       0x20 
 .text          0x00012400      0x380 ../obj/util.o
                0x00012400                fetchESP
                0x00012403                fetchEBP
                0x00012406                fetchSS
                0x00012409                fetchCS
                0x0001240c                fetchDS
                0x0001240f                panic_assert
                0x00012482                k_memshow
                0x000124b7                reboot
                0x000124e6                kitoa
                0x000125ca                ki2hex
                0x00012631                float2string
 .text          0x00012780      0x500 ../obj/atapi.o
                0x000128d6                atapi_read_sector
                0x00012a29                atapi_read_sectors
                0x00012a73                check_atapi
                0x00012b73                cd_test_iso9660
 .text          0x00012c80      0x720 ../obj/ahci.o
                0x00012c80                ahci_find_controller
                0x00012d81                ahci_port_init
                0x00012e33                sata_read_sectors
                0x00013082                ahci_probe_ports
                0x00013174                sata_test_iso9660
                0x00013265                ahci_init
                0x000132e4                check_ahci
 .text          0x000133a0        0xc ../obj/shell_loader.o
                0x000133a0                enter_shell
 .text          0x000133ac      0x6f0 ../obj/shell.o
                0x000133ac                shell_main
 .text          0x00013a9c      0x200 ../obj/pe.o
                0x00013a9c                pe_load_image
 *fill*         0x00013c9c        0x4 
 .text          0x00013ca0      0x310 ../obj/kheap.o
                0x00013cc6                detect_memory
                0x00013d18                kmemcpy
                0x00013d45                kmemset
                0x00013d6e                kmemsetw
                0x00013d91                kstrlen
                0x00013db0                kstrncmp
                0x00013dfe                kstrcmp
                0x00013e30                kstrcat
                0x00013e6d                kheap_init
                0x00013e8c                kmalloc
                0x00013eda                kfree
                0x00013f29                krealloc

.rodata         0x00013fb0      0xa00
                0x00013fb0                        __rodata_start = .
 *(.rodata)
 *(.rdata)
 .rdata         0x00013fb0       0x50 ../obj/ckernel.o
 .rdata         0x00014000        0x4 ../obj/math.o
 .rdata         0x00014004       0x1c ../obj/usermodec.o
 .rdata         0x00014020       0x2c ../obj/iso9660.o
 .rdata         0x0001404c       0x84 ../obj/video.o
 .rdata         0x000140d0       0x2c ../obj/vga.o
 .rdata         0x000140fc       0x44 ../obj/util.o
 .rdata         0x00014140      0x368 ../obj/atapi.o
 .rdata         0x000144a8      0x30c ../obj/ahci.o
 .rdata         0x000147b4       0x2c ../obj/pe.o

.rdata          0x00015000      0x400
 .rdata$zzz     0x00015000       0x2c ../obj/ckernel.o
 .rdata$zzz     0x0001502c       0x2c ../obj/paging.o
 .rdata$zzz     0x00015058       0x2c ../obj/idt.o
 .rdata$zzz     0x00015084       0x2c ../obj/irqc.o
 .rdata$zzz     0x000150b0       0x2c ../obj/isrc.o
 .rdata$zzz     0x000150dc       0x2c ../obj/gdt.o
 .rdata$zzz     0x00015108       0x2c ../obj/syscall.o
 .rdata$zzz     0x00015134       0x2c ../obj/timer.o
 .rdata$zzz     0x00015160       0x2c ../obj/math.o
 .rdata$zzz     0x0001518c       0x2c ../obj/usermodec.o
 .rdata$zzz     0x000151b8       0x2c ../obj/task.o
 .rdata$zzz     0x000151e4       0x2c ../obj/iso9660.o
 .rdata$zzz     0x00015210       0x2c ../obj/video.o
 .rdata$zzz     0x0001523c       0x2c ../obj/vga.o
 .rdata$zzz     0x00015268       0x2c ../obj/util.o
 .rdata$zzz     0x00015294       0x2c ../obj/atapi.o
 .rdata$zzz     0x000152c0       0x2c ../obj/ahci.o
 .rdata$zzz     0x000152ec       0x2c ../obj/shell_loader.o
 .rdata$zzz     0x00015318       0x2c ../obj/shell.o
 .rdata$zzz     0x00015344       0x2c ../obj/pe.o
 .rdata$zzz     0x00015370       0x2c ../obj/kheap.o

.eh_frame       0x00016000     0x1200
 .eh_frame      0x00016000       0x50 ../obj/ckernel.o
 .eh_frame      0x00016050       0xc4 ../obj/paging.o
 .eh_frame      0x00016114       0x58 ../obj/idt.o
 .eh_frame      0x0001616c       0x60 ../obj/irqc.o
 .eh_frame      0x000161cc       0x44 ../obj/isrc.o
 .eh_frame      0x00016210       0x48 ../obj/gdt.o
 .eh_frame      0x00016258       0x54 ../obj/syscall.o
 .eh_frame      0x000162ac       0x2c ../obj/timer.o
 .eh_frame      0x000162d8       0x5c ../obj/math.o
 .eh_frame      0x00016334       0x30 ../obj/usermodec.o
 .eh_frame      0x00016364       0xb8 ../obj/task.o
 .eh_frame      0x0001641c      0x140 ../obj/iso9660.o
 .eh_frame      0x0001655c      0x1b4 ../obj/video.o
 .eh_frame      0x00016710      0x270 ../obj/vga.o
 .eh_frame      0x00016980      0x19c ../obj/util.o
 .eh_frame      0x00016b1c      0x154 ../obj/atapi.o
 .eh_frame      0x00016c70      0x150 ../obj/ahci.o
 .eh_frame      0x00016dc0       0x2c ../obj/shell_loader.o
 .eh_frame      0x00016dec       0x58 ../obj/shell.o
 .eh_frame      0x00016e44       0x58 ../obj/pe.o
 .eh_frame      0x00016e9c      0x18c ../obj/kheap.o

.data           0x00017028      0x200
                0x00017028                        __data_start = .
 *(.data)
 .data          0x00017028        0x4 ../obj/ckernel.o
                0x00017028                kernel_stack_top
 .data          0x0001702c        0x4 ../obj/paging.o
 .data          0x00017030        0x0 ../obj/idt.o
 .data          0x00017030        0x0 ../obj/irqc.o
 .data          0x00017030        0x0 ../obj/isrc.o
 .data          0x00017030        0x0 ../obj/gdt.o
 .data          0x00017030        0x4 ../obj/syscall.o
 .data          0x00017034        0x0 ../obj/timer.o
 .data          0x00017034        0x0 ../obj/math.o
 .data          0x00017034        0x4 ../obj/usermodec.o
                0x00017034                user_stack_top
 .data          0x00017038        0x0 ../obj/task.o
 .data          0x00017038        0x4 ../obj/iso9660.o
 .data          0x0001703c        0x8 ../obj/video.o
                0x0001703c                tui_vidmem
                0x00017040                attrib
 .data          0x00017044        0x0 ../obj/vga.o
 .data          0x00017044        0x4 ../obj/util.o
                0x00017044                INT_MAX
 .data          0x00017048        0x8 ../obj/atapi.o
 .data          0x00017050        0x0 ../obj/ahci.o
 .data          0x00017050        0x0 ../obj/shell_loader.o
 .data          0x00017050        0x0 ../obj/shell.o
 .data          0x00017050        0x0 ../obj/pe.o
 .data          0x00017050        0x0 ../obj/kheap.o

.bss            0x00018000     0x4410
                0x00018000                        __bss_start = .
 *(.bss)
 .bss           0x00018000        0x0 ../obj/ckernel.o
 .bss           0x00018000     0x2000 ../obj/paging.o
 .bss           0x0001a000      0x820 ../obj/idt.o
 .bss           0x0001a820        0x0 ../obj/irqc.o
 .bss           0x0001a820        0x0 ../obj/isrc.o
 .bss           0x0001a820       0xc0 ../obj/gdt.o
                0x0001a820                tss_entry
                0x0001a87c                gp
                0x0001a8a0                gdt
 .bss           0x0001a8e0        0x0 ../obj/syscall.o
 .bss           0x0001a8e0        0x4 ../obj/timer.o
 .bss           0x0001a8e4        0x0 ../obj/math.o
 *fill*         0x0001a8e4       0x1c 
 .bss           0x0001a900     0x1000 ../obj/usermodec.o
                0x0001a900                user_stack
 .bss           0x0001b900       0x10 ../obj/task.o
 .bss           0x0001b910       0x10 ../obj/iso9660.o
 .bss           0x0001b920        0x4 ../obj/video.o
                0x0001b920                saved_csr_y
                0x0001b921                saved_csr_x
                0x0001b922                csr_y
                0x0001b923                csr_x
 .bss           0x0001b924        0xc ../obj/vga.o
                0x0001b924                lfb_bpp
                0x0001b926                lfb_yres
                0x0001b928                lfb_xres
                0x0001b92a                lfb_pitch
                0x0001b92c                lfb_base
 .bss           0x0001b930        0x0 ../obj/util.o
 .bss           0x0001b930        0xc ../obj/atapi.o
 *fill*         0x0001b93c      0x2c4 
 .bss           0x0001bc00      0x800 ../obj/ahci.o
 .bss           0x0001c400        0x0 ../obj/shell_loader.o
 .bss           0x0001c400        0x0 ../obj/shell.o
 .bss           0x0001c400        0x0 ../obj/pe.o
 .bss           0x0001c400       0x10 ../obj/kheap.o
                0x0001c400                max_mem
                0x0001c404                mem_map_length
                0x0001c408                mem_map
 *(COMMON)
                0x0001c410                        __bss_end = .
                0x0001c410                        ___end = .

/DISCARD/
 *(.reloc)
LOAD ../obj/ckernel.o
LOAD ../obj/paging.o
LOAD ../obj/flush.o
LOAD ../obj/idt.o
LOAD ../obj/isr.o
LOAD ../obj/irqc.o
LOAD ../obj/irq.o
LOAD ../obj/isrc.o
LOAD ../obj/gdt.o
LOAD ../obj/syscall.o
LOAD ../obj/timer.o
LOAD ../obj/math.o
LOAD ../obj/usermode.o
LOAD ../obj/usermodec.o
LOAD ../obj/task.o
LOAD ../obj/iso9660.o
LOAD ../obj/video.o
LOAD ../obj/vga.o
LOAD ../obj/util.o
LOAD ../obj/atapi.o
LOAD ../obj/ahci.o
LOAD ../obj/shell_loader.o
LOAD ../obj/shell.o
LOAD ../obj/pe.o
LOAD ../obj/kheap.o
OUTPUT(../obj/kernel.o pei-i386)
LOAD dll stuff
