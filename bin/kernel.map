
Discarded input sections

 .reloc         0x00000000        0x0 dll stuff

Memory Configuration

Name             Origin             Length             Attributes
*default*        0x00000000         0xffffffff

Linker script and memory map

                0x00400000                        __image_base__ = 0x400000
                0x00000000                        __dll__ = 0x0
                0x00400000                        ___ImageBase = 0x400000
                0x00001000                        __section_alignment__ = 0x1000
                0x00000200                        __file_alignment__ = 0x200
                0x00000004                        __major_os_version__ = 0x4
                0x00000000                        __minor_os_version__ = 0x0
                0x00000001                        __major_image_version__ = 0x1
                0x00000000                        __minor_image_version__ = 0x0
                0x00000004                        __major_subsystem_version__ = 0x4
                0x00000000                        __minor_subsystem_version__ = 0x0
                0x00000003                        __subsystem__ = 0x3
                0x00200000                        __size_of_stack_reserve__ = 0x200000
                0x00001000                        __size_of_stack_commit__ = 0x1000
                0x00100000                        __size_of_heap_reserve__ = 0x100000
                0x00001000                        __size_of_heap_commit__ = 0x1000
                0x00000000                        __loader_flags__ = 0x0
                0x00000140                        __dll_characteristics__ = 0x140
                0x00010000                        . = 0x10000

.text           0x00010000     0x3000
                0x00010000        0x4 LONG 0x10004 _kmain
                0x00010004                        __code_start = .
 *(.text)
 .text          0x00010004      0x12c ../obj/ckernel.o
                0x00010004                kmain
                0x000100ad                test_task
 .text          0x00010130      0x234 ../obj/paging.o
                0x00010130                page_allocator_add_page
                0x00010145                page_init
                0x000101ba                page_alloc
                0x000101f6                page_free
                0x00010220                mmio_map
                0x0001030f                paging_init
 *fill*         0x00010364        0xc 
 .text          0x00010370       0x3b ../obj/flush.o
                0x00010370                _gdt_flush
                0x0001038d                _tss_flush
                0x000103a3                idt_flush
 *fill*         0x000103ab        0x1 
 .text          0x000103ac      0x540 ../obj/idt.o
                0x000103ac                idt_set_gate
                0x000103ea                idt_init
 *fill*         0x000108ec        0x4 
 .text          0x000108f0      0x12e ../obj/isr.o
                0x000108f0                isr0
                0x000108fa                isr1
                0x00010904                isr2
                0x0001090e                isr3
                0x00010918                isr4
                0x00010922                isr5
                0x0001092c                isr6
                0x00010936                isr7
                0x00010940                isr8
                0x00010948                isr9
                0x00010952                isr10
                0x0001095a                isr11
                0x00010962                isr12
                0x0001096a                isr13
                0x00010972                isr14
                0x00010977                isr15
                0x0001097e                isr16
                0x00010985                isr17
                0x0001098c                isr18
                0x00010993                isr19
                0x0001099a                isr20
                0x000109a1                isr21
                0x000109a8                isr22
                0x000109af                isr23
                0x000109b6                isr24
                0x000109bd                isr25
                0x000109c4                isr26
                0x000109cb                isr27
                0x000109d2                isr28
                0x000109d9                isr29
                0x000109e0                isr30
                0x000109e5                isr31
                0x000109ec                isr128
 *fill*         0x00010a1e        0x2 
 .text          0x00010a20       0xd4 ../obj/irqc.o
                0x00010a20                irq_remap
                0x00010a5f                irq_handler
                0x00010a9e                irq_init
 *fill*         0x00010af4        0xc 
 .text          0x00010b00       0x36 ../obj/irq.o
                0x00010b00                irq0
                0x00010b07                irq1
 *fill*         0x00010b36        0x2 
 .text          0x00010b38       0x54 ../obj/isrc.o
                0x00010b38                isr_init
                0x00010b39                isr_handler
 .text          0x00010b8c      0x180 ../obj/gdt.o
                0x00010b8c                tss_set_kernel_stack
                0x00010b96                gdt_init
 .text          0x00010d0c       0x54 ../obj/syscall.o
                0x00010d3f                syscall_init
                0x00010d40                syscall_dispatch
 .text          0x00010d60       0x30 ../obj/timer.o
                0x00010d60                timer_tick
 .text          0x00010d90       0x1d ../obj/usermode.o
                0x00010d90                enter_usermode
 *fill*         0x00010dad        0x3 
 .text          0x00010db0       0x18 ../obj/usermodec.o
                0x00010db0                user_mode_main
 .text          0x00010dc8      0x1ec ../obj/task.o
                0x00010dfd                tasking_is_enabled
                0x00010e03                tasking_init
                0x00010e50                task_create
                0x00010ee0                schedule
 .text          0x00010fb4      0x5d4 ../obj/iso9660.o
                0x00010fb4                iso_mount
                0x0001107f                iso_init
                0x000110c1                iso_find_file
                0x000113c5                file_open
                0x00011417                file_read
                0x00011515                file_getch
                0x00011548                file_seek
                0x0001156e                file_close
 .text          0x00011588      0x484 ../obj/video.o
                0x00011588                settextcolor
                0x000115a0                move_cursor_right
                0x000115c2                move_cursor_left
                0x000115f5                update_cursor
                0x00011636                k_clear_screen
                0x00011679                move_cursor_home
                0x00011686                move_cursor_end
                0x00011693                set_cursor
                0x000116ab                scroll
                0x0001171f                putch
                0x00011842                puts
                0x0001186b                kprintf
                0x000118ae                printformat
                0x000119d5                save_cursor
                0x000119f0                restore_cursor
 .text          0x00011a0c      0x1e0 ../obj/vga.o
                0x00011a0c                gfx_init
                0x00011a7b                gfx_clear
                0x00011ad7                rgb565
                0x00011b00                gfx_putPixel
                0x00011b39                gfx_rectFill
 .text          0x00011bec      0x2ec ../obj/util.o
                0x00011bec                fetchESP
                0x00011bef                fetchEBP
                0x00011bf2                fetchSS
                0x00011bf5                fetchCS
                0x00011bf8                fetchDS
                0x00011bfb                panic_assert
                0x00011c6d                k_memshow
                0x00011ca2                reboot
                0x00011cd1                kitoa
                0x00011d72                ki2hex
                0x00011dcb                float2string
 .text          0x00011ed8      0x4f0 ../obj/atapi.o
                0x0001202e                atapi_read_sector
                0x00012172                atapi_read_sectors
                0x000121bc                check_atapi
                0x000122bc                cd_test_iso9660
 .text          0x000123c8      0x6a8 ../obj/ahci.o
                0x000123c8                ahci_find_controller
                0x000124c9                ahci_port_init
                0x0001255f                sata_read_sectors
                0x00012788                ahci_probe_ports
                0x00012878                sata_test_iso9660
                0x0001296c                ahci_init
                0x000129ce                check_ahci
 .text          0x00012a70       0x58 ../obj/shell_loader.o
                0x00012a70                enter_shell
 .text          0x00012ac8      0x1fc ../obj/pe.o
                0x00012ac8                pe_load_image
 .text          0x00012cc4      0x2d4 ../obj/kheap.o
                0x00012cea                detect_memory
                0x00012d2f                kmemcpy
                0x00012d5b                kmemset
                0x00012d7d                kmemsetw
                0x00012da1                kstrlen
                0x00012dbf                kstrncmp
                0x00012e0d                kstrcmp
                0x00012e3f                kstrcat
                0x00012e78                kheap_init
                0x00012e97                kmalloc
                0x00012edc                kfree
                0x00012f1e                krealloc

.rodata         0x00012f98      0xa00
                0x00012f98                        __rodata_start = .
 *(.rodata)
 *(.rdata)
 .rdata         0x00012f98       0x50 ../obj/ckernel.o
 .rdata         0x00012fe8       0x1c ../obj/usermodec.o
 .rdata         0x00013004       0x2c ../obj/iso9660.o
 .rdata         0x00013030       0x84 ../obj/video.o
 .rdata         0x000130b4       0x28 ../obj/vga.o
 .rdata         0x000130dc       0x44 ../obj/util.o
 .rdata         0x00013120      0x368 ../obj/atapi.o
 .rdata         0x00013488      0x300 ../obj/ahci.o
 .rdata         0x00013788       0x28 ../obj/shell_loader.o
 .rdata         0x000137b0       0x2c ../obj/pe.o

.rdata          0x00014000      0x400
 .rdata$zzz     0x00014000       0x2c ../obj/ckernel.o
 .rdata$zzz     0x0001402c       0x2c ../obj/paging.o
 .rdata$zzz     0x00014058       0x2c ../obj/idt.o
 .rdata$zzz     0x00014084       0x2c ../obj/irqc.o
 .rdata$zzz     0x000140b0       0x2c ../obj/isrc.o
 .rdata$zzz     0x000140dc       0x2c ../obj/gdt.o
 .rdata$zzz     0x00014108       0x2c ../obj/syscall.o
 .rdata$zzz     0x00014134       0x2c ../obj/timer.o
 .rdata$zzz     0x00014160       0x2c ../obj/usermodec.o
 .rdata$zzz     0x0001418c       0x2c ../obj/task.o
 .rdata$zzz     0x000141b8       0x2c ../obj/iso9660.o
 .rdata$zzz     0x000141e4       0x2c ../obj/video.o
 .rdata$zzz     0x00014210       0x2c ../obj/vga.o
 .rdata$zzz     0x0001423c       0x2c ../obj/util.o
 .rdata$zzz     0x00014268       0x2c ../obj/atapi.o
 .rdata$zzz     0x00014294       0x2c ../obj/ahci.o
 .rdata$zzz     0x000142c0       0x2c ../obj/shell_loader.o
 .rdata$zzz     0x000142ec       0x2c ../obj/pe.o
 .rdata$zzz     0x00014318       0x2c ../obj/kheap.o

.eh_frame       0x00015000     0x1000
 .eh_frame      0x00015000       0x50 ../obj/ckernel.o
 .eh_frame      0x00015050       0xe8 ../obj/paging.o
 .eh_frame      0x00015138       0x58 ../obj/idt.o
 .eh_frame      0x00015190       0x68 ../obj/irqc.o
 .eh_frame      0x000151f8       0x44 ../obj/isrc.o
 .eh_frame      0x0001523c       0x48 ../obj/gdt.o
 .eh_frame      0x00015284       0x54 ../obj/syscall.o
 .eh_frame      0x000152d8       0x2c ../obj/timer.o
 .eh_frame      0x00015304       0x30 ../obj/usermodec.o
 .eh_frame      0x00015334       0xb4 ../obj/task.o
 .eh_frame      0x000153e8      0x140 ../obj/iso9660.o
 .eh_frame      0x00015528      0x1c0 ../obj/video.o
 .eh_frame      0x000156e8       0xc8 ../obj/vga.o
 .eh_frame      0x000157b0      0x19c ../obj/util.o
 .eh_frame      0x0001594c      0x154 ../obj/atapi.o
 .eh_frame      0x00015aa0      0x15c ../obj/ahci.o
 .eh_frame      0x00015bfc       0x38 ../obj/shell_loader.o
 .eh_frame      0x00015c34       0x58 ../obj/pe.o
 .eh_frame      0x00015c8c      0x1b0 ../obj/kheap.o

.data           0x00015e3c      0x200
                0x00015e3c                        __data_start = .
 *(.data)
 .data          0x00015e3c        0x4 ../obj/ckernel.o
                0x00015e3c                kernel_stack_top
 .data          0x00015e40        0x4 ../obj/paging.o
 .data          0x00015e44        0x0 ../obj/idt.o
 .data          0x00015e44        0x0 ../obj/irqc.o
 .data          0x00015e44        0x0 ../obj/isrc.o
 .data          0x00015e44        0x0 ../obj/gdt.o
 .data          0x00015e44        0x4 ../obj/syscall.o
 .data          0x00015e48        0x0 ../obj/timer.o
 .data          0x00015e48        0x4 ../obj/usermodec.o
                0x00015e48                user_stack_top
 .data          0x00015e4c        0x0 ../obj/task.o
 .data          0x00015e4c        0x4 ../obj/iso9660.o
 .data          0x00015e50        0x8 ../obj/video.o
                0x00015e50                tui_vidmem
                0x00015e54                attrib
 .data          0x00015e58        0x0 ../obj/vga.o
 .data          0x00015e58        0x4 ../obj/util.o
                0x00015e58                INT_MAX
 .data          0x00015e5c        0x8 ../obj/atapi.o
 .data          0x00015e64        0x0 ../obj/ahci.o
 .data          0x00015e64        0x0 ../obj/shell_loader.o
 .data          0x00015e64        0x0 ../obj/pe.o
 .data          0x00015e64        0x0 ../obj/kheap.o

.bss            0x00016000     0x4410
                0x00016000                        __bss_start = .
 *(.bss)
 .bss           0x00016000        0x0 ../obj/ckernel.o
 .bss           0x00016000     0x2000 ../obj/paging.o
 .bss           0x00018000      0x820 ../obj/idt.o
 .bss           0x00018820        0x0 ../obj/irqc.o
 .bss           0x00018820        0x0 ../obj/isrc.o
 .bss           0x00018820       0xc0 ../obj/gdt.o
                0x00018820                tss_entry
                0x0001887c                gp
                0x000188a0                gdt
 .bss           0x000188e0        0x0 ../obj/syscall.o
 .bss           0x000188e0        0x4 ../obj/timer.o
 *fill*         0x000188e4       0x1c 
 .bss           0x00018900     0x1000 ../obj/usermodec.o
                0x00018900                user_stack
 .bss           0x00019900       0x10 ../obj/task.o
 .bss           0x00019910       0x10 ../obj/iso9660.o
 .bss           0x00019920        0x4 ../obj/video.o
                0x00019920                saved_csr_y
                0x00019921                saved_csr_x
                0x00019922                csr_y
                0x00019923                csr_x
 .bss           0x00019924       0x10 ../obj/vga.o
                0x00019924                lfb_phys
                0x00019928                lfb_bpp
                0x0001992a                lfb_yres
                0x0001992c                lfb_xres
                0x0001992e                lfb_pitch
                0x00019930                lfb_base
 .bss           0x00019934        0x0 ../obj/util.o
 .bss           0x00019934        0xc ../obj/atapi.o
 *fill*         0x00019940      0x2c0 
 .bss           0x00019c00      0x800 ../obj/ahci.o
 .bss           0x0001a400        0x0 ../obj/shell_loader.o
 .bss           0x0001a400        0x0 ../obj/pe.o
 .bss           0x0001a400       0x10 ../obj/kheap.o
                0x0001a400                max_mem
                0x0001a404                mem_map_length
                0x0001a408                mem_map
 *(COMMON)
                0x0001a410                        __bss_end = .
                0x0001a410                        ___end = .

/DISCARD/
 *(.reloc)
LOAD ../obj/ckernel.o
LOAD ../obj/paging.o
LOAD ../obj/flush.o
LOAD ../obj/idt.o
LOAD ../obj/isr.o
LOAD ../obj/irqc.o
LOAD ../obj/irq.o
LOAD ../obj/isrc.o
LOAD ../obj/gdt.o
LOAD ../obj/syscall.o
LOAD ../obj/timer.o
LOAD ../obj/usermode.o
LOAD ../obj/usermodec.o
LOAD ../obj/task.o
LOAD ../obj/iso9660.o
LOAD ../obj/video.o
LOAD ../obj/vga.o
LOAD ../obj/util.o
LOAD ../obj/atapi.o
LOAD ../obj/ahci.o
LOAD ../obj/shell_loader.o
LOAD ../obj/pe.o
LOAD ../obj/kheap.o
OUTPUT(../obj/kernel.o pei-i386)
LOAD dll stuff
