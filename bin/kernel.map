
Discarded input sections

 .reloc         0x00000000        0x0 dll stuff

Memory Configuration

Name             Origin             Length             Attributes
*default*        0x00000000         0xffffffff

Linker script and memory map

                0x00400000                        __image_base__ = 0x400000
                0x00000000                        __dll__ = 0x0
                0x00400000                        ___ImageBase = 0x400000
                0x00001000                        __section_alignment__ = 0x1000
                0x00000200                        __file_alignment__ = 0x200
                0x00000004                        __major_os_version__ = 0x4
                0x00000000                        __minor_os_version__ = 0x0
                0x00000001                        __major_image_version__ = 0x1
                0x00000000                        __minor_image_version__ = 0x0
                0x00000004                        __major_subsystem_version__ = 0x4
                0x00000000                        __minor_subsystem_version__ = 0x0
                0x00000003                        __subsystem__ = 0x3
                0x00200000                        __size_of_stack_reserve__ = 0x200000
                0x00001000                        __size_of_stack_commit__ = 0x1000
                0x00100000                        __size_of_heap_reserve__ = 0x100000
                0x00001000                        __size_of_heap_commit__ = 0x1000
                0x00000000                        __loader_flags__ = 0x0
                0x00000140                        __dll_characteristics__ = 0x140
                0x00010000                        . = 0x10000

.text           0x00010000     0x2c00
                0x00010000        0x4 LONG 0x10004 _kmain
                0x00010004                        __code_start = .
 *(.text)
 .text          0x00010004      0x138 ../obj/ckernel.o
                0x00010004                kmain
                0x000100b9                test_task
 .text          0x0001013c      0x258 ../obj/paging.o
                0x0001013c                page_init
                0x000101a3                page_alloc
                0x000101e9                page_free
                0x00010214                mmio_map
                0x00010303                paging_init
 *fill*         0x00010394        0xc 
 .text          0x000103a0       0x2d ../obj/flush.o
                0x000103a0                gdt_flush
                0x000103bd                idt_flush
                0x000103c5                tss_flush
 *fill*         0x000103cd        0x3 
 .text          0x000103d0      0x540 ../obj/idt.o
                0x000103d0                idt_set_gate
                0x0001040e                idt_init
 .text          0x00010910      0x12e ../obj/isr.o
                0x00010910                isr0
                0x0001091a                isr1
                0x00010924                isr2
                0x0001092e                isr3
                0x00010938                isr4
                0x00010942                isr5
                0x0001094c                isr6
                0x00010956                isr7
                0x00010960                isr8
                0x00010968                isr9
                0x00010972                isr10
                0x0001097a                isr11
                0x00010982                isr12
                0x0001098a                isr13
                0x00010992                isr14
                0x00010997                isr15
                0x0001099e                isr16
                0x000109a5                isr17
                0x000109ac                isr18
                0x000109b3                isr19
                0x000109ba                isr20
                0x000109c1                isr21
                0x000109c8                isr22
                0x000109cf                isr23
                0x000109d6                isr24
                0x000109dd                isr25
                0x000109e4                isr26
                0x000109eb                isr27
                0x000109f2                isr28
                0x000109f9                isr29
                0x00010a00                isr30
                0x00010a05                isr31
                0x00010a0c                isr128
 *fill*         0x00010a3e        0x2 
 .text          0x00010a40       0xd4 ../obj/irqc.o
                0x00010a40                irq_remap
                0x00010a7f                irq_handler
                0x00010abe                irq_init
 *fill*         0x00010b14        0xc 
 .text          0x00010b20       0x36 ../obj/irq.o
                0x00010b20                irq0
                0x00010b27                irq1
 *fill*         0x00010b56        0x2 
 .text          0x00010b58       0x54 ../obj/isrc.o
                0x00010b58                isr_init
                0x00010b59                isr_handler
 .text          0x00010bac      0x1c0 ../obj/gdt.o
                0x00010bac                gdt_init
                0x00010d60                tss_set_kernel_stack
 .text          0x00010d6c       0x54 ../obj/syscall.o
                0x00010d9f                syscall_init
                0x00010da0                syscall_dispatch
 .text          0x00010dc0       0x30 ../obj/timer.o
                0x00010dc0                timer_tick
 .text          0x00010df0       0x1d ../obj/usermode.o
                0x00010df0                enter_usermode
 *fill*         0x00010e0d        0x3 
 .text          0x00010e10       0x24 ../obj/usermodec.o
                0x00010e10                start_shell_from_initrd
                0x00010e11                user_mode_main
 .text          0x00010e34      0x1ec ../obj/task.o
                0x00010e69                tasking_is_enabled
                0x00010e6f                tasking_init
                0x00010ebc                task_create
                0x00010f4c                schedule
 .text          0x00011020      0x5d4 ../obj/iso9660.o
                0x00011020                iso_mount
                0x000110eb                iso_init
                0x0001112d                iso_find_file
                0x00011431                file_open
                0x00011483                file_read
                0x00011581                file_getch
                0x000115b4                file_seek
                0x000115da                file_close
 .text          0x000115f4      0x484 ../obj/video.o
                0x000115f4                settextcolor
                0x0001160c                move_cursor_right
                0x0001162e                move_cursor_left
                0x00011661                update_cursor
                0x000116a2                k_clear_screen
                0x000116e5                move_cursor_home
                0x000116f2                move_cursor_end
                0x000116ff                set_cursor
                0x00011717                scroll
                0x0001178b                putch
                0x000118ae                puts
                0x000118d7                kprintf
                0x0001191a                printformat
                0x00011a41                save_cursor
                0x00011a5c                restore_cursor
 .text          0x00011a78      0x2ec ../obj/util.o
                0x00011a78                fetchESP
                0x00011a7b                fetchEBP
                0x00011a7e                fetchSS
                0x00011a81                fetchCS
                0x00011a84                fetchDS
                0x00011a87                panic_assert
                0x00011af9                k_memshow
                0x00011b2e                reboot
                0x00011b5d                kitoa
                0x00011bfe                ki2hex
                0x00011c57                float2string
 .text          0x00011d64      0x4f0 ../obj/atapi.o
                0x00011eba                atapi_read_sector
                0x00011ffe                atapi_read_sectors
                0x00012048                check_atapi
                0x00012148                cd_test_iso9660
 .text          0x00012254      0x6a8 ../obj/ahci.o
                0x00012254                ahci_find_controller
                0x00012355                ahci_port_init
                0x000123eb                sata_read_sectors
                0x00012614                ahci_probe_ports
                0x00012704                sata_test_iso9660
                0x000127f8                ahci_init
                0x0001285a                check_ahci
 .text          0x000128fc       0x14 ../obj/shell.o
                0x000128fc                enter_shell
 .text          0x00012910      0x290 ../obj/kheap.o
                0x00012936                kmemcpy
                0x00012962                kmemset
                0x00012984                kmemsetw
                0x000129a8                kstrlen
                0x000129c6                kstrncmp
                0x00012a14                kstrcmp
                0x00012a46                kstrcat
                0x00012a7f                kheap_init
                0x00012a9e                kmalloc
                0x00012ae3                kfree
                0x00012b25                krealloc

.rodata         0x00012ba0      0x800
                0x00012ba0                        __rodata_start = .
 *(.rodata)
 *(.rdata)
 .rdata         0x00012ba0       0x5c ../obj/ckernel.o
 .rdata         0x00012bfc       0x1c ../obj/usermodec.o
 .rdata         0x00012c18       0x2c ../obj/iso9660.o
 .rdata         0x00012c44       0x84 ../obj/video.o
 .rdata         0x00012cc8       0x44 ../obj/util.o
 .rdata         0x00012d0c      0x368 ../obj/atapi.o
 .rdata         0x00013074      0x300 ../obj/ahci.o
 .rdata         0x00013374        0xc ../obj/shell.o

.rdata          0x00014000      0x400
 .rdata$zzz     0x00014000       0x2c ../obj/ckernel.o
 .rdata$zzz     0x0001402c       0x2c ../obj/paging.o
 .rdata$zzz     0x00014058       0x2c ../obj/idt.o
 .rdata$zzz     0x00014084       0x2c ../obj/irqc.o
 .rdata$zzz     0x000140b0       0x2c ../obj/isrc.o
 .rdata$zzz     0x000140dc       0x2c ../obj/gdt.o
 .rdata$zzz     0x00014108       0x2c ../obj/syscall.o
 .rdata$zzz     0x00014134       0x2c ../obj/timer.o
 .rdata$zzz     0x00014160       0x2c ../obj/usermodec.o
 .rdata$zzz     0x0001418c       0x2c ../obj/task.o
 .rdata$zzz     0x000141b8       0x2c ../obj/iso9660.o
 .rdata$zzz     0x000141e4       0x2c ../obj/video.o
 .rdata$zzz     0x00014210       0x2c ../obj/util.o
 .rdata$zzz     0x0001423c       0x2c ../obj/atapi.o
 .rdata$zzz     0x00014268       0x2c ../obj/ahci.o
 .rdata$zzz     0x00014294       0x2c ../obj/shell.o
 .rdata$zzz     0x000142c0       0x2c ../obj/kheap.o

.eh_frame       0x00015000      0xe00
 .eh_frame      0x00015000       0x50 ../obj/ckernel.o
 .eh_frame      0x00015050       0xf8 ../obj/paging.o
 .eh_frame      0x00015148       0x58 ../obj/idt.o
 .eh_frame      0x000151a0       0x68 ../obj/irqc.o
 .eh_frame      0x00015208       0x44 ../obj/isrc.o
 .eh_frame      0x0001524c       0x48 ../obj/gdt.o
 .eh_frame      0x00015294       0x54 ../obj/syscall.o
 .eh_frame      0x000152e8       0x2c ../obj/timer.o
 .eh_frame      0x00015314       0x44 ../obj/usermodec.o
 .eh_frame      0x00015358       0xb4 ../obj/task.o
 .eh_frame      0x0001540c      0x140 ../obj/iso9660.o
 .eh_frame      0x0001554c      0x1c0 ../obj/video.o
 .eh_frame      0x0001570c      0x19c ../obj/util.o
 .eh_frame      0x000158a8      0x154 ../obj/atapi.o
 .eh_frame      0x000159fc      0x15c ../obj/ahci.o
 .eh_frame      0x00015b58       0x30 ../obj/shell.o
 .eh_frame      0x00015b88      0x194 ../obj/kheap.o

.data           0x00015d1c      0x200
                0x00015d1c                        __data_start = .
 *(.data)
 .data          0x00015d1c        0x0 ../obj/ckernel.o
 .data          0x00015d1c        0x4 ../obj/paging.o
 .data          0x00015d20        0x0 ../obj/idt.o
 .data          0x00015d20        0x0 ../obj/irqc.o
 .data          0x00015d20        0x0 ../obj/isrc.o
 .data          0x00015d20        0x0 ../obj/gdt.o
 .data          0x00015d20        0x4 ../obj/syscall.o
 .data          0x00015d24        0x0 ../obj/timer.o
 .data          0x00015d24        0x4 ../obj/usermodec.o
                0x00015d24                user_stack_top
 .data          0x00015d28        0x0 ../obj/task.o
 .data          0x00015d28        0x4 ../obj/iso9660.o
 .data          0x00015d2c        0x8 ../obj/video.o
                0x00015d2c                tui_vidmem
                0x00015d30                attrib
 .data          0x00015d34        0x4 ../obj/util.o
                0x00015d34                INT_MAX
 .data          0x00015d38        0x8 ../obj/atapi.o
 .data          0x00015d40        0x0 ../obj/ahci.o
 .data          0x00015d40        0x0 ../obj/shell.o
 .data          0x00015d40        0x0 ../obj/kheap.o

.bss            0x00016000   0x404404
                0x00016000                        __bss_start = .
 *(.bss)
 .bss           0x00016000        0x0 ../obj/ckernel.o
 .bss           0x00016000   0x402000 ../obj/paging.o
 .bss           0x00418000      0x820 ../obj/idt.o
 .bss           0x00418820        0x0 ../obj/irqc.o
 .bss           0x00418820        0x0 ../obj/isrc.o
 .bss           0x00418820       0xc0 ../obj/gdt.o
 .bss           0x004188e0        0x0 ../obj/syscall.o
 .bss           0x004188e0        0x4 ../obj/timer.o
 *fill*         0x004188e4       0x1c 
 .bss           0x00418900     0x1000 ../obj/usermodec.o
                0x00418900                user_stack
 .bss           0x00419900       0x10 ../obj/task.o
 .bss           0x00419910       0x10 ../obj/iso9660.o
 .bss           0x00419920        0x4 ../obj/video.o
                0x00419920                saved_csr_y
                0x00419921                saved_csr_x
                0x00419922                csr_y
                0x00419923                csr_x
 .bss           0x00419924        0x0 ../obj/util.o
 .bss           0x00419924        0xc ../obj/atapi.o
 *fill*         0x00419930      0x2d0 
 .bss           0x00419c00      0x800 ../obj/ahci.o
 .bss           0x0041a400        0x0 ../obj/shell.o
 .bss           0x0041a400        0x4 ../obj/kheap.o
 *(COMMON)
                0x0041a404                        __bss_end = .
                0x0041a404                        __end = .

/DISCARD/
 *(.reloc)
LOAD ../obj/ckernel.o
LOAD ../obj/paging.o
LOAD ../obj/flush.o
LOAD ../obj/idt.o
LOAD ../obj/isr.o
LOAD ../obj/irqc.o
LOAD ../obj/irq.o
LOAD ../obj/isrc.o
LOAD ../obj/gdt.o
LOAD ../obj/syscall.o
LOAD ../obj/timer.o
LOAD ../obj/usermode.o
LOAD ../obj/usermodec.o
LOAD ../obj/task.o
LOAD ../obj/iso9660.o
LOAD ../obj/video.o
LOAD ../obj/util.o
LOAD ../obj/atapi.o
LOAD ../obj/ahci.o
LOAD ../obj/shell.o
LOAD ../obj/kheap.o
OUTPUT(../obj/kernel.o pei-i386)
LOAD dll stuff
